class Solution(object):
    def rotatedDigits(self, n):
        valid = {'0', '1', '8', '2', '5', '6', '9'}
        good = {'2', '5', '6', '9'}
        count = 0

        for i in range(1, n + 1):
            num_str = str(i)
            if all(digit in valid for digit in num_str) and any(digit in good for digit in num_str):
                count += 1

        return count
