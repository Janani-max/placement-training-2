class Solution(object):
    def largestOverlap(self, img1, img2):
        n = len(img1)
        a = [(i, j) for i in range(n) for j in range(n) if img1[i][j]]
        b = [(i, j) for i in range(n) for j in range(n) if img2[i][j]]
        from collections import Counter
        cnt = Counter()
        for x1, y1 in a:
            for x2, y2 in b:
                cnt[(x1 - x2, y1 - y2)] += 1
        return max(cnt.values() or [0])
