
class Solution {
    public int longestUnivaluePath(TreeNode root) {
        int[] arr= new int[1];
        ans(root,arr);
        return arr[0];
    }
    public class returner{
        int value;
        int totalMatch;
        public returner(int v,int t){
            this.value=v;
            this.totalMatch=t;
        }
    }
    public returner ans(TreeNode root,int[]arr){
        if(root==null){
            return new returner(Integer.MIN_VALUE,0);
        }
        if(root.left==null && root.right==null){
            return new returner(root.val,0);
        }
        returner left=ans(root.left,arr);
        returner right=ans(root.right,arr);
        int leftPath = 0;
        int rightPath = 0;

        if (root.left != null && root.val == left.value) {
            leftPath = left.totalMatch + 1;
        }

        if (root.right != null && root.val == right.value) {
            rightPath = right.totalMatch + 1;
        }
            arr[0]= Math.max(arr[0],(rightPath+leftPath));
            return new returner(root.val,Math.max(leftPath,rightPath));

    }
}
